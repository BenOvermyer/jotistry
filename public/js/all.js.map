{"version":3,"sources":["jquery-dateFormat.min.js","app.js","notes.js","tasks.js"],"names":[],"mappings":"AAAA;AACA;ACDA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["/*! jquery-dateFormat 18-05-2015 */\nvar DateFormat={};!function(a){var b=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],c=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],d=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],e=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],f={Jan:\"01\",Feb:\"02\",Mar:\"03\",Apr:\"04\",May:\"05\",Jun:\"06\",Jul:\"07\",Aug:\"08\",Sep:\"09\",Oct:\"10\",Nov:\"11\",Dec:\"12\"},g=/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.?\\d{0,3}[Z\\-+]?(\\d{2}:?\\d{2})?/;a.format=function(){function a(a){return b[parseInt(a,10)]||a}function h(a){return c[parseInt(a,10)]||a}function i(a){var b=parseInt(a,10)-1;return d[b]||a}function j(a){var b=parseInt(a,10)-1;return e[b]||a}function k(a){return f[a]||a}function l(a){var b,c,d,e,f,g=a,h=\"\";return-1!==g.indexOf(\".\")&&(e=g.split(\".\"),g=e[0],h=e[e.length-1]),f=g.split(\":\"),3===f.length?(b=f[0],c=f[1],d=f[2].replace(/\\s.+/,\"\").replace(/[a-z]/gi,\"\"),g=g.replace(/\\s.+/,\"\").replace(/[a-z]/gi,\"\"),{time:g,hour:b,minute:c,second:d,millis:h}):{time:\"\",hour:\"\",minute:\"\",second:\"\",millis:\"\"}}function m(a,b){for(var c=b-String(a).length,d=0;c>d;d++)a=\"0\"+a;return a}return{parseDate:function(a){var b,c,d={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if(\"number\"==typeof a)return this.parseDate(new Date(a));if(\"function\"==typeof a.getFullYear)d.year=String(a.getFullYear()),d.month=String(a.getMonth()+1),d.dayOfMonth=String(a.getDate()),d.time=l(a.toTimeString()+\".\"+a.getMilliseconds());else if(-1!=a.search(g))b=a.split(/[T\\+-]/),d.year=b[0],d.month=b[1],d.dayOfMonth=b[2],d.time=l(b[3].split(\".\")[0]);else switch(b=a.split(\" \"),6===b.length&&isNaN(b[5])&&(b[b.length]=\"()\"),b.length){case 6:d.year=b[5],d.month=k(b[1]),d.dayOfMonth=b[2],d.time=l(b[3]);break;case 2:c=b[0].split(\"-\"),d.year=c[0],d.month=c[1],d.dayOfMonth=c[2],d.time=l(b[1]);break;case 7:case 9:case 10:d.year=b[3],d.month=k(b[1]),d.dayOfMonth=b[2],d.time=l(b[4]);break;case 1:c=b[0].split(\"\"),d.year=c[0]+c[1]+c[2]+c[3],d.month=c[5]+c[6],d.dayOfMonth=c[8]+c[9],d.time=l(c[13]+c[14]+c[15]+c[16]+c[17]+c[18]+c[19]+c[20]);break;default:return null}return d.date=d.time?new Date(d.year,d.month-1,d.dayOfMonth,d.time.hour,d.time.minute,d.time.second,d.time.millis):new Date(d.year,d.month-1,d.dayOfMonth),d.dayOfWeek=String(d.date.getDay()),d},date:function(b,c){try{var d=this.parseDate(b);if(null===d)return b;for(var e,f=d.year,g=d.month,k=d.dayOfMonth,l=d.dayOfWeek,n=d.time,o=\"\",p=\"\",q=\"\",r=!1,s=0;s<c.length;s++){var t=c.charAt(s),u=c.charAt(s+1);if(r)\"'\"==t?(p+=\"\"===o?\"'\":o,o=\"\",r=!1):o+=t;else switch(o+=t,q=\"\",o){case\"ddd\":p+=a(l),o=\"\";break;case\"dd\":if(\"d\"===u)break;p+=m(k,2),o=\"\";break;case\"d\":if(\"d\"===u)break;p+=parseInt(k,10),o=\"\";break;case\"D\":k=1==k||21==k||31==k?parseInt(k,10)+\"st\":2==k||22==k?parseInt(k,10)+\"nd\":3==k||23==k?parseInt(k,10)+\"rd\":parseInt(k,10)+\"th\",p+=k,o=\"\";break;case\"MMMM\":p+=j(g),o=\"\";break;case\"MMM\":if(\"M\"===u)break;p+=i(g),o=\"\";break;case\"MM\":if(\"M\"===u)break;p+=m(g,2),o=\"\";break;case\"M\":if(\"M\"===u)break;p+=parseInt(g,10),o=\"\";break;case\"y\":case\"yyy\":if(\"y\"===u)break;p+=o,o=\"\";break;case\"yy\":if(\"y\"===u)break;p+=String(f).slice(-2),o=\"\";break;case\"yyyy\":p+=f,o=\"\";break;case\"HH\":p+=m(n.hour,2),o=\"\";break;case\"H\":if(\"H\"===u)break;p+=parseInt(n.hour,10),o=\"\";break;case\"hh\":e=0===parseInt(n.hour,10)?12:n.hour<13?n.hour:n.hour-12,p+=m(e,2),o=\"\";break;case\"h\":if(\"h\"===u)break;e=0===parseInt(n.hour,10)?12:n.hour<13?n.hour:n.hour-12,p+=parseInt(e,10),o=\"\";break;case\"mm\":p+=m(n.minute,2),o=\"\";break;case\"m\":if(\"m\"===u)break;p+=n.minute,o=\"\";break;case\"ss\":p+=m(n.second.substring(0,2),2),o=\"\";break;case\"s\":if(\"s\"===u)break;p+=n.second,o=\"\";break;case\"S\":case\"SS\":if(\"S\"===u)break;p+=o,o=\"\";break;case\"SSS\":var v=\"000\"+n.millis.substring(0,3);p+=v.substring(v.length-3),o=\"\";break;case\"a\":p+=n.hour>=12?\"PM\":\"AM\",o=\"\";break;case\"p\":p+=n.hour>=12?\"p.m.\":\"a.m.\",o=\"\";break;case\"E\":p+=h(l),o=\"\";break;case\"'\":o=\"\",r=!0;break;default:p+=t,o=\"\"}}return p+=q}catch(w){return console&&console.log&&console.log(w),b}},prettyDate:function(a){var b,c,d;return(\"string\"==typeof a||\"number\"==typeof a)&&(b=new Date(a)),\"object\"==typeof a&&(b=new Date(a.toString())),c=((new Date).getTime()-b.getTime())/1e3,d=Math.floor(c/86400),isNaN(d)||0>d?void 0:60>c?\"just now\":120>c?\"1 minute ago\":3600>c?Math.floor(c/60)+\" minutes ago\":7200>c?\"1 hour ago\":86400>c?Math.floor(c/3600)+\" hours ago\":1===d?\"Yesterday\":7>d?d+\" days ago\":31>d?Math.ceil(d/7)+\" weeks ago\":d>=31?\"more than 5 weeks ago\":void 0},toBrowserTimeZone:function(a,b){return this.date(new Date(a),b||\"MM/dd/yyyy HH:mm:ss\")}}}()}(DateFormat),function(a){a.format=DateFormat.format}(jQuery);","$(document).ready(function() {\n    \n});\n","$(document).ready(function() {\n    var csrfToken = $('meta[name=\"csrf-token\"]').attr('content');\n\n    $('.new-note').click(function() {\n        var currentCard = null;\n        $('.title').html('');\n        $('.body').html('');\n        $('.update-note').hide();\n        $('.delete-note').hide();\n        $('.save-note').show();\n        $('.active').removeClass('active');\n        $('.title').focus();\n    });\n\n    $('.delete-note').click(function() {\n        var noteId = $('.id').val();\n\n        $.ajax({\n            url: '/notes/' + noteId,\n            method: 'DELETE',\n            headers: {\n                'X-CSRF-TOKEN': csrfToken\n            }\n        }).done(function(response) {\n            $('.' + noteId).remove();\n            $('.title').html('');\n            $('.body').html('');\n            $('.update-note').hide();\n            $('.save-note').show();\n            $('.active').removeClass('active');\n            $('.title').focus();\n        });\n    });\n\n    $('.cards').on('click', '.card', function() {\n        $('.active').removeClass('active');\n        $(this).addClass('active');\n        $('.save-note').hide();\n        $('.update-note').show();\n        $('.delete-note').show();\n\n        var cardId = $(this).children('span').html();\n\n        loadNote(cardId);\n    });\n\n    $('.save-note').click(function() {\n        $.ajax({\n            url: 'notes',\n            method: 'POST',\n            headers: {\n                'X-CSRF-TOKEN': csrfToken\n            },\n            data: {\n                'title': $('.title').html(),\n                'body': $('.body').html()\n            }\n        }).done(function(note) {\n            var noteDate = new Date(note.updated_at);\n            noteDate = $.format.date(noteDate, 'MMM D, yyyy h:mm p');\n            $.ajax({\n                url: 'notes/' + note.id,\n                method: \"GET\",\n                headers: {\n                    'Accept': 'text/html',\n                    'X_CSRF-TOKEN': csrfToken\n                }\n            }).done(function(noteHtml) {\n                $('.cards').prepend(noteHtml);\n            });\n            $('.save-note').hide();\n            $('.update-note').show();\n            $('.id').val(note.id);\n        });\n    });\n\n    $('.update-note').click(function() {\n        $.ajax({\n            url: 'notes/' + $('.id').val(),\n            method: \"POST\",\n            headers: {\n                'X-CSRF-TOKEN': csrfToken\n            },\n            data: {\n                'title': $('.title').html(),\n                'body': $('.body').html()\n            }\n        }).done(function(note) {\n            $.ajax({\n                url: 'notes/' + note.id,\n                method: \"GET\",\n                headers: {\n                    'Accept': 'text/html',\n                    'X_CSRF-TOKEN': csrfToken\n                }\n            }).done(function(noteHtml) {\n                $('.cards > .' + note.id ).replaceWith(noteHtml);\n            });\n        });\n    });\n\n    function loadNote(id) {\n        $.ajax({\n            url: 'notes/' + id,\n            method: \"GET\",\n            headers: {\n                'Accept': 'application/json',\n                'X-CSRF-TOKEN': csrfToken\n            }\n        }).done(function(note) {\n            $('.title').html(note.title);\n            $('.body').html(note.body);\n            $('.id').val(note.id);\n        })\n    }\n\n});\n","$(document).ready(function() {\n    var csrfToken = $('meta[name=\"csrf-token\"]').attr('content');\n\n    $('.content').keydown(function(e) {\n        if (e.keyCode === 13) {\n            newTask();\n            return false;\n        }\n    });\n\n    $('.new-task-category-title').keydown(function(e) {\n        if (e.keyCode === 13) {\n            $('.new-task-category').click();\n            return false;\n        }\n    });\n\n    $('.tasks').on('click', '.complete-task', function() {\n        var id = $(this).siblings('span').html();\n        var task = $(this).parent();\n        task.addClass('ghost');\n        task.children('.complete-task').children('i').html('check_box');\n\n        var ajaxOptions = {\n            url: 'tasks/' + id,\n            method: 'POST',\n            data: {\n                'content': $(this).siblings('div').html(),\n                'is_completed': 1\n            },\n            headers: {\n                'X-CSRF-TOKEN': csrfToken\n            },\n            dataType: 'json'\n        };\n\n        $.ajax(ajaxOptions).done(function(response) {\n            task.remove();\n        });\n    });\n\n    $('.tasks').on('keypress', 'div', function() {\n        $(this).siblings('.save-task').show();\n    });\n\n    $('.new-task-category').click(function() {\n        var categoryTitle = $('.new-task-category-title').html();\n\n        var ajaxOptions = {\n            method: 'POST',\n            url: 'tasks/categories',\n            data: {\n                'title': categoryTitle\n            },\n            headers: {\n                'X-CSRF-TOKEN': csrfToken\n            }\n        };\n\n        $.ajax(ajaxOptions).done(function(taskCategory) {\n            $('.task-categories').append('<li><div class=\"task-category\" data-task-category=\"' + taskCategory.id + '\"><i class=\"material-icons\">view_list</i> <span>' + taskCategory.title + '</span></li>');\n            $('.new-task-category-title').html('');\n        });\n    });\n\n    $('.task-categories').on('click', '.task-category', function() {\n        var taskCategory = $(this);\n        $('.task-category').removeClass('active');\n        taskCategory.addClass('active');\n        var taskCategoryTitle = taskCategory.children('span').text();\n        $('.current-task-category').html(taskCategoryTitle);\n        $('.task').remove();\n\n        categoryId = taskCategory.attr('data-task-category');\n\n        var ajaxOptions = {\n            url: 'tasks/bycategory/' + categoryId,\n            method: 'GET',\n            headers: {\n                'X-CSRF-TOKEN': csrfToken\n            },\n            dataType: 'json'\n        }\n\n        $.ajax(ajaxOptions).done(function(response) {\n            for (var i = 0, len = response.length; i < len; i++) {\n                $('.tasks').append('<div class=\"task ' + response[i].id + '\"><button class=\"save-task btn btn-primary\"><i class=\"material-icons\">save</i> Save</button> <a class=\"complete-task\"><i class=\"material-icons\">check_box_outline_blank</i></a><div contenteditable>' + response[i].content + '</div> <span>' + response[i].id + '</span>')\n            }\n        });\n\n        $('.content').focus();\n\n    });\n\n    $('.tasks').on('click', '.save-task', function() {\n        var id = $(this).siblings('span').html();\n        var saveButton = $(this);\n        saveButton.attr('disabled', 'disabled');\n        saveButton.addClass('disabled');\n\n        var ajaxOptions = {\n            url: 'tasks/' + id,\n            method: 'POST',\n            data: {\n                'content': $(this).siblings('div').html(),\n                'is_completed': 0\n            },\n            headers: {\n                'X-CSRF-TOKEN': csrfToken\n            },\n            dataType: 'json'\n        }\n\n        $.ajax(ajaxOptions).done(function(response) {\n            saveButton.hide();\n        });\n    });\n\n    function newTask() {\n        var taskCategory = $('.active');\n        var taskCategoryId = taskCategory.attr('data-task-category');\n        var taskContent = $('.content').html();\n        $('.content').html('');\n\n        var ajaxOptions = {\n            method: \"POST\",\n            url: \"tasks\",\n            data: {\n                content: taskContent,\n                task_category_id: taskCategoryId,\n                is_completed: 0\n            },\n            headers: {\n                'X-CSRF-TOKEN': csrfToken\n            }\n        };\n\n        $.ajax(ajaxOptions).done(function(task) {\n            $.ajax({\n                url: 'tasks/' + task.id,\n                method: \"GET\",\n                headers: {\n                    'Accept': 'text/html',\n                    'X-CSRF-TOKEN': csrfToken\n                }\n            }).done(function(taskHtml){\n                $('.tasks').append(taskHtml);\n            });\n        });\n    }\n\n    $('.content').focus();\n});\n"]}